{"ast":null,"code":"var _jsxFileName = \"/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/src/pages/CreateAccount.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { MyContext } from \"../myContext/MyContext\";\nimport Card from \"../components/Card\";\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction CreateAccount() {\n  _s();\n\n  const {\n    //state\n    firstName,\n    lastName,\n    userName,\n    email,\n    password,\n    userNameError,\n    firstNameError,\n    lastNameError,\n    emailError,\n    passwError,\n    error,\n    //functions\n    handleFirstNameChange,\n    handleLastNameChange,\n    handleUserNameChange,\n    handleEmailChange,\n    handlePasswordChange,\n    validate,\n    clearForm,\n    authenticateWithAPI,\n    setError\n  } = useContext(MyContext);\n  const history = useHistory();\n\n  const redirectToLogin = () => {\n    // history.push('/createAccount');\n    // using the href from Navigation, not the \"path\" I was thinking I need: {id:\"createAccount\", text: \"Open Acount\", tooltipText: \"Open your BetterBankÂ® account\", href:\"#/createAccount\"}\n    // I don't want to be able to go back in the browser:\n    history.replace('/#');\n  };\n\n  const [user, setUser] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  async function submitUser() {\n    if (!validate()) {\n      return;\n    }\n\n    authenticateWithAPI();\n    const API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\n    let userToken = Cookies.get(\"token\");\n\n    if (!userToken) {\n      authenticateWithAPI();\n      userToken = Cookies.get(\"token\");\n    }\n\n    const response = await fetch(`${API_URL}/newusers`, {\n      method: \"POST\",\n      headers: userToken && {\n        Authorization: `Bearer ${userToken}`\n      },\n      body: JSON.stringify({\n        firstname: firstName,\n        lastname: lastName,\n        username: userName,\n        email: email,\n        password: password\n      })\n    });\n\n    if (!response.ok) {\n      console.log(response.statusText);\n      setError(response.statusText);\n    } else {\n      const responseObj = await response.json();\n      const error = responseObj.error;\n\n      if (error) {\n        setError(error);\n      } else {\n        /*#__PURE__*/\n        _jsxDEV(\"div\", {\n          className: \"successMessage\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Awesome!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your account was created.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 12\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please, log in.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 12\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 5\n        }, this);\n\n        clearForm();\n        redirectToLogin();\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    bgcolor: \"warning\",\n    header: \"Open Account\",\n    body: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [(() => {\n        if (error) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 10\n          }, this);\n        }\n      })(), (() => {\n        if (userNameError) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: userNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 10\n          }, this);\n        }\n      })(), (() => {\n        if (firstNameError) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: firstNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 10\n          }, this);\n        }\n      })(), (() => {\n        if (lastNameError) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: lastNameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 10\n          }, this);\n        }\n      })(), (() => {\n        if (emailError) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: emailError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 10\n          }, this);\n        }\n      })(), (() => {\n        if (passwError) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error\",\n            children: passwError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 10\n          }, this);\n        }\n      })(), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"card-text mt-5 mb-2\",\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        className: \"form-control\",\n        id: \"username\",\n        placeholder: \"Create a username.\",\n        value: userName,\n        onChange: handleUserNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"card-text mt-4 mb-2\",\n        children: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        className: \"form-control\",\n        id: \"name\",\n        placeholder: \"Your first name is...\",\n        value: firstName,\n        onChange: handleFirstNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"card-text mt-4 mb-2\",\n        children: \"Last Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        className: \"form-control\",\n        id: \"name\",\n        placeholder: \"Your last name is...\",\n        value: lastName,\n        onChange: handleLastNameChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"card-text mb-2\",\n        children: \"Email address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"input\",\n        className: \"form-control\",\n        id: \"email\",\n        placeholder: \"Your email address is...\",\n        value: email,\n        onChange: handleEmailChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        className: \"card-text mb-2\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        id: \"password\",\n        placeholder: \"**********\",\n        value: password,\n        onChange: handlePasswordChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !userName && !firstName && !lastName && !email && !password,\n        id: \"submitbutton\",\n        className: \"submitBtn btn btn-light\",\n        onClick: e => submitUser(),\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 3\n  }, this);\n}\n\n_s(CreateAccount, \"j9+kQPbxrs0ydPOD7rSxn+zkKJA=\", false, function () {\n  return [useHistory];\n});\n\n_c = CreateAccount;\nexport default CreateAccount;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateAccount\");","map":{"version":3,"sources":["/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/src/pages/CreateAccount.js"],"names":["React","useContext","useState","useHistory","MyContext","Card","Cookies","CreateAccount","firstName","lastName","userName","email","password","userNameError","firstNameError","lastNameError","emailError","passwError","error","handleFirstNameChange","handleLastNameChange","handleUserNameChange","handleEmailChange","handlePasswordChange","validate","clearForm","authenticateWithAPI","setError","history","redirectToLogin","replace","user","setUser","firstname","lastname","username","submitUser","API_URL","process","env","NEXT_PUBLIC_API_URL","userToken","get","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","console","log","statusText","responseObj","json","e"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from \"react\";\nimport {useHistory} from \"react-router-dom\";\nimport {MyContext} from \"../myContext/MyContext\";\nimport Card from \"../components/Card\";\nimport Cookies from \"js-cookie\";\n\nfunction CreateAccount() {\n\n\tconst {\n\t\t//state\n\t\tfirstName,\n\t\tlastName,\n\t\tuserName,\n\t\temail,\n\t\tpassword,\n\t\tuserNameError,\n\t\tfirstNameError,\n\t\tlastNameError,\n\t\temailError,\n\t\tpasswError,\n\t\terror,\n\t\t//functions\n\t\thandleFirstNameChange,\n\t\thandleLastNameChange,\n\t\thandleUserNameChange,\n\t\thandleEmailChange,\n\t\thandlePasswordChange,\n\t\tvalidate,\n\t\tclearForm,\n\t\tauthenticateWithAPI,\n\t\tsetError,\n\t} = useContext(MyContext);\n\n\tconst history = useHistory();\n  \tconst redirectToLogin = () => {\n    // history.push('/createAccount');\n\t\t// using the href from Navigation, not the \"path\" I was thinking I need: {id:\"createAccount\", text: \"Open Acount\", tooltipText: \"Open your BetterBankÂ® account\", href:\"#/createAccount\"}\n\t\t// I don't want to be able to go back in the browser:\n\t\thistory.replace('/#');\n  }\n\n\tconst [user, setUser] = useState({\n\t\tfirstname: \"\",\n\t\tlastname: \"\",\n\t\tusername: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\"\n\t});\n\n\tasync function submitUser() {\n\t\tif (!validate()) {\n\t\t\treturn;\n\t\t}\n\n\t\tauthenticateWithAPI()\n\t\t\n\t\tconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\n    \tlet userToken = Cookies.get(\"token\");\n\t\t\tif (!userToken) {\n\t\t\tauthenticateWithAPI();\n\t\t  userToken = Cookies.get(\"token\");\n\t\t}\n\n\t\tconst response = await fetch(`${API_URL}/newusers`, {\n\t\t  method: \"POST\",\n\t\t\theaders: userToken && { Authorization: `Bearer ${userToken}` },\n\t\t  body: JSON.stringify({\n\t\t\t\tfirstname: firstName,\n\t\t\t\tlastname: lastName,\n\t\t\t\tusername: userName,\n\t\t\t\temail: email,\n\t\t\t\tpassword: password,\n\t\t  }),\n\t\t});\n\t\n\t\tif (!response.ok) {\n\t\t\tconsole.log(response.statusText)\n\t\t  setError(response.statusText);\n\t\t} else {\n\t\t\tconst responseObj = await response.json();\n\t\t\tconst error = responseObj.error;\n\t\t\tif (error) {\n\t\t\t\tsetError(error);\n\t\t\t} else {\n\t\t\t\t<div className=\"successMessage\">\n\t\t\t\t\t\t\t\t\t\t\t<h5>Awesome!</h5>\n\t\t\t\t\t\t\t\t\t\t\t<p>Your account was created.</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>Please, log in.</p>\n\t\t\t\t\t\t\t\t\t</div>\n\n\n\t\t\t\tclearForm();\n\t\t\t\tredirectToLogin();\n\t\t\t}\n\t\t}\n\t}\t\n\n\treturn (\n\t\t<Card\n\t\t\tbgcolor=\"warning\"\n\t\t\theader=\"Open Account\" \n\t\t\tbody={\n\t\t\t\t<>\n\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{error}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (userNameError) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{userNameError}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (firstNameError) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{firstNameError}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (lastNameError) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{lastNameError}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (emailError) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{emailError}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t})()}\n\n\t\t\t\t\t\t\t{(() => {\n\t\t\t\t\t\t\tif (passwError) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"error\">{passwError}</div>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t})()}\n\n\t\t\n\t\t\t\t\t<h6 className=\"card-text mt-5 mb-2\">Username</h6>\n\t\t\t\t\t<input type=\"input\" className=\"form-control\" id=\"username\" placeholder=\"Create a username.\" value={userName} onChange={handleUserNameChange}/>\n\t\t\t\t\t<h6 className=\"card-text mt-4 mb-2\">First Name</h6>\n\t\t\t\t\t<input type=\"input\" className=\"form-control\" id=\"name\" placeholder=\"Your first name is...\" value={firstName} onChange={handleFirstNameChange}/>\n\t\t\t\t\t<h6 className=\"card-text mt-4 mb-2\">Last Name</h6>\n\t\t\t\t\t<input type=\"input\" className=\"form-control\" id=\"name\" placeholder=\"Your last name is...\" value={lastName} onChange={handleLastNameChange}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<h6 className=\"card-text mb-2\">Email address</h6>\n\t\t\t\t\t<input type=\"input\" className=\"form-control\" id=\"email\" placeholder=\"Your email address is...\" value={email} onChange={handleEmailChange}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<h6 className=\"card-text mb-2\">Password</h6>\n\t\t\t\t\t<input type=\"password\" className=\"form-control\" id=\"password\" placeholder=\"**********\" value={password} onChange={handlePasswordChange}/>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<button type=\"submit\" disabled={!userName && !firstName && !lastName && !email && !password} id=\"submitbutton\" className=\"submitBtn btn btn-light\" onClick={e => submitUser()} >Create Account</button>\n\t\t\t\t</>\n\t\t\t}\n\t\t/>\n\t)\n}\n\nexport default CreateAccount;"]},"metadata":{},"sourceType":"module"}