{"ast":null,"code":"import _asyncToGenerator from\"/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{createContext,useState}from\"react\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyContext=/*#__PURE__*/createContext();function MyContextProvider(_ref){var children=_ref.children;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),firstNameError=_useState6[0],setFirstNameError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),lastNameError=_useState8[0],setLastNameError=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),userName=_useState10[0],setUserName=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userNameError=_useState12[0],setUserNameError=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),users=_useState14[0],setUsers=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),destinationUser=_useState16[0],setDestinationUser=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),loggedInUserName=_useState18[0],setLoggedInUserName=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),showLoggedInMsg=_useState20[0],setShowLoggedInMsg=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),email=_useState22[0],setEmail=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),emailError=_useState24[0],setEmailError=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),password=_useState26[0],setPassword=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),passwError=_useState28[0],setPasswError=_useState28[1];var _useState29=useState(0.0),_useState30=_slicedToArray(_useState29,2),balance=_useState30[0],setBalance=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),depositAmount=_useState32[0],setDepositAmount=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),depositError=_useState34[0],setDepositError=_useState34[1];var _useState35=useState(false),_useState36=_slicedToArray(_useState35,2),depositSuccessMessageVisible=_useState36[0],setDepositSuccessMessageVisible=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),withdrawAmount=_useState38[0],setWithdrawAmount=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),withdrawError=_useState40[0],setWithdrawError=_useState40[1];var _useState41=useState(false),_useState42=_slicedToArray(_useState41,2),withdrawSuccessMessageVisible=_useState42[0],setWithdrawSuccessMessageVisible=_useState42[1];var _useState43=useState(\"\"),_useState44=_slicedToArray(_useState43,2),transferAmount=_useState44[0],setTransferAmount=_useState44[1];var _useState45=useState(\"\"),_useState46=_slicedToArray(_useState45,2),transferError=_useState46[0],setTransferError=_useState46[1];var _useState47=useState(false),_useState48=_slicedToArray(_useState47,2),transferSuccessMessageVisible=_useState48[0],setTransferSuccessMessageVisible=_useState48[1];var _useState49=useState(\"\"),_useState50=_slicedToArray(_useState49,2),investAmount=_useState50[0],setInvestAmount=_useState50[1];var _useState51=useState(\"\"),_useState52=_slicedToArray(_useState51,2),investError=_useState52[0],setInvestError=_useState52[1];var _useState53=useState(false),_useState54=_slicedToArray(_useState53,2),investSuccessMessageVisible=_useState54[0],setInvestSuccessMessageVisible=_useState54[1];var _useState55=useState(false),_useState56=_slicedToArray(_useState55,2),investResult=_useState56[0],setInvestResult=_useState56[1];var _useState57=useState(\"\"),_useState58=_slicedToArray(_useState57,2),error=_useState58[0],setError=_useState58[1];var _useState59=useState(\"\"),_useState60=_slicedToArray(_useState59,2),result=_useState60[0],setResult=_useState60[1];var _useState61=useState(\"\"),_useState62=_slicedToArray(_useState61,2),dateTime=_useState62[0],setDateTime=_useState62[1];var firstNameErrorStr=\"\";var lastNameErrorStr=\"\";var userNameErrorStr=\"\";var emailErrorStr=\"\";var passwordErrorStr=\"\";var depositErrorStr=\"\";var withdrawErrorStr=\"\";var transferErrorStr=\"\";var investErrorStr=\"\";//INPUT VALIDATION WITH ERROR MESSAGES: NO INPUT + ADDITIONAL \nvar validate=function validate(){setUserNameError(\"\");setFirstNameError(\"\");setLastNameError(\"\");setEmailError(\"\");setPasswError(\"\");//username\nif(!userName){userNameErrorStr=\"Oops! Your username can't be blank.\";//additional: length \n}else if(userName.length==1){userNameErrorStr=\"Username must be longer than that.\";}else if(userName.length>10){userNameErrorStr=\"Username must not exceed 10 characters.\";}//firstName\nif(!firstName){firstNameErrorStr=\"Oops! Your first name can't be blank.\";//additional: name length \n}else if(firstName.length==1){firstNameErrorStr=\"First name must be longer than that.\";}//lastName\nif(!lastName){lastNameErrorStr=\"Oops! Your last name can't be blank.\";//additional: name length \n}else if(lastName.length<2){lastNameErrorStr=\"Last name must be longer than that.\";}//email\nif(!email){emailErrorStr=\"Oops! Your email can't be blank.\";//additional: email length \n}else if(email.length==1){emailErrorStr=\"Email must be longer than that.\";}//password\nif(!password){passwordErrorStr=\"Oops! Your password can't be blank.\";}//if there's no error message, validate \n//userName\nif(userNameErrorStr==\"\"){// alert(\"username\")\nvalidateUserName(userName);}//firstName\nif(firstNameErrorStr==\"\"){validateFirstName(firstName);}//lastName\nif(lastNameErrorStr==\"\"){validateLastName(lastName);}//email\nif(emailErrorStr==\"\"){validateEmail(email);}//password\nif(passwordErrorStr==\"\"){validatePassword(password);}setUserNameError(userNameErrorStr);setFirstNameError(firstNameErrorStr);setLastNameError(lastNameErrorStr);setEmailError(emailErrorStr);setPasswError(passwordErrorStr);return userNameErrorStr===\"\"&&firstNameErrorStr===\"\"&&lastNameErrorStr===\"\"&&emailErrorStr===\"\"&&passwordErrorStr===\"\";//returns true and validate() is executed\n};//----------------NAME AND USERNAME VALIDATION-----------------------\nvar validateFirstName=function validateFirstName(newFirstName){setFirstNameError(\"\");//additonal: limiting input to the letters of the English alphabet, including capital letters\nif(!newFirstName.match(/^[a-zA-Z][a-zA-Z\\s]*$/)){//this ok?\nfirstNameErrorStr=\"Enter letters only\";setFirstNameError(firstNameErrorStr);return false;}return true;};var validateLastName=function validateLastName(newLastName){setLastNameError(\"\");//additonal: limiting input to a mix of letters and numbers\nif(!newLastName.match(/^[a-zA-Z][a-zA-Z\\s]*$/)){lastNameErrorStr=\"Enter letters only\";setLastNameError(lastNameErrorStr);return false;}return true;};var validateUserName=function validateUserName(newUserName){setUserNameError(\"\");//additonal: limiting input to only Alphabets, Numbers and Underscore and between 3 to 10 characters\nif(!newUserName.match(/^[a-zA-Z0-9_]{4,10}$/)){userNameErrorStr=\"Only letters, numbers and underscore, and between 3-10 characters in username.\";setUserNameError(userNameErrorStr);return false;}return true;};//----------------EMAIL VALIDATION-----------------------\n//additional: email formatting\nvar validateEmail=function validateEmail(newEmail){var emailFormat=/^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,4}$/;var isValidFormat=function isValidFormat(str){return str.match(emailFormat);};if(!isValidFormat(newEmail)){emailErrorStr=\"Oops! Bad email format.\";return false;}return true;};//----------------PASSWORD VALIDATION-----------------------\nvar validatePassword=function validatePassword(newPassword){if(newPassword.length==1||newPassword.length<8){passwordErrorStr=\"Password must be longer than that.\";return false;}return true;};//----------------CREATE ACCOUNT FORM ONCHANGE-----------------------\n//this is not used anywhere----------\nvar handleClick=function handleClick(e){if(validate()){//adding all new users, for \"All Data\"\nvar newUser={\"userName\":userName,\"firstName\":firstName,\"lastName\":lastName,\"email\":email,\"password\":password};setUsers(function(users){return users.concat(newUser);});console.log(\"these are all of the users: \".concat(users));}else{return;}};//---------------------------------\n// form input onchange + setting state\nvar handleFirstNameChange=function handleFirstNameChange(e){var newFirstName=e.currentTarget.value;if(!newFirstName||validateFirstName(newFirstName)){setFirstName(newFirstName);}};var handleLastNameChange=function handleLastNameChange(e){var newLastName=e.currentTarget.value;if(!newLastName||validateLastName(newLastName)){setLastName(newLastName);}};var handleUserNameChange=function handleUserNameChange(e){setUserName(e.currentTarget.value);};var handleEmailChange=function handleEmailChange(e){setEmail(e.currentTarget.value);};var handlePasswordChange=function handlePasswordChange(e){setPassword(e.currentTarget.value);};var handleDestinationUserNameChange=function handleDestinationUserNameChange(e){setDestinationUser(e.currentTarget.value);};// Create Account success message\nvar showSuccessMessageAccount=function showSuccessMessageAccount(){return/*#__PURE__*/_jsxs(\"div\",{className:\"successMessage\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Awesome!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your account was created.\"})]});};//----------------VALIDATION FOR DEPOSIT, WITHDRAW, TRANSFER, INVEST-----------------------\nvar validateNr=function validateNr(newValue){//clear error when there's new input\nsetDepositError(\"\");setWithdrawError(\"\");setTransferError(\"\");setInvestError(\"\");setError(\"\");if(!newValue.match(/^([(0-9)]+\\.)*([(0-9)]+)*$/)){//this regex matches numbers from 0 to 9 and + decimal numbers\ndepositErrorStr=\"Enter numbers only.\";withdrawErrorStr=\"Enter numbers only.\";transferErrorStr=\"Enter numbers only.\";investErrorStr=\"Enter numbers only.\";setDepositError(depositErrorStr);setWithdrawError(withdrawErrorStr);setTransferError(transferErrorStr);setInvestError(investErrorStr);return false;//didn't validate\n}return true;//did validate\n};//----------------DEPOSIT INPUT-----------------------\nvar depositHandleChange=function depositHandleChange(e){e.preventDefault();var newValue=e.target.value;if(!validateNr(newValue)){newValue=newValue.slice(0,-1);//when we delete the numbers, it cuts off the last element if that's not a number\n}setDepositAmount(newValue);setDepositSuccessMessageVisible(false);};//----------------DEPOSIT VALIDATION-----------------------\nvar validateDeposit=function validateDeposit(){setDepositError(\"\");setDepositSuccessMessageVisible(false);if(depositAmount==0.0){depositErrorStr=\"Amount must be higher than 0.\";setDepositError(depositErrorStr);setDepositSuccessMessageVisible(false);return false;}if(depositAmount.length>=7){depositErrorStr=\"Amount must be lower than that.\";setDepositError(depositErrorStr);setDepositSuccessMessageVisible(false);return false;}return true;};//----------------WITHDRAW INPUT-----------------------\nvar withdrawHandleChange=function withdrawHandleChange(e){e.preventDefault();var newValue=e.target.value;if(!validateNr(newValue)){newValue=newValue.slice(0,-1);//when we delete the numbers, it cuts off the last element if that's not a number\n}setWithdrawAmount(newValue);setWithdrawSuccessMessageVisible(false);};//---------------WITHDRAW VALIDATION-------------------\nvar validateWithdraw=function validateWithdraw(){setWithdrawError(\"\");setWithdrawSuccessMessageVisible(false);if(withdrawAmount==0.0){withdrawErrorStr=\"Amount must be higher than 0.\";setWithdrawError(withdrawErrorStr);setWithdrawSuccessMessageVisible(false);return false;}if(withdrawAmount.length>=7){withdrawErrorStr=\"Amount must be lower than that.\";setWithdrawError(withdrawErrorStr);setWithdrawSuccessMessageVisible(false);return false;}if(withdrawAmount>balance){withdrawErrorStr=\"Amount higher than the account balance.\";setWithdrawError(withdrawErrorStr);setWithdrawSuccessMessageVisible(false);return false;}return true;};//---------------TRANSFER INPUT, VALIDATION-------------------\nvar validateTransfer=function validateTransfer(){setTransferError(\"\");setTransferSuccessMessageVisible(false);if(transferAmount==0.0){transferErrorStr=\"Amount must be higher than 0.\";setTransferError(transferErrorStr);setTransferSuccessMessageVisible(false);return false;}if(transferAmount.length>=7){transferErrorStr=\"Amount must be lower than that.\";setTransferError(transferErrorStr);setTransferSuccessMessageVisible(false);return false;}if(transferAmount>balance){transferErrorStr=\"Amount higher than the account balance.\";setTransferError(transferErrorStr);setTransferSuccessMessageVisible(false);return false;}return true;};//INPUT\nvar transferHandleChange=function transferHandleChange(e){e.preventDefault();var newValue=e.target.value;if(!validateNr(newValue)){newValue=newValue.slice(0,-1);//when we delete the numbers, it cuts off the last element if that's not a number\n}setTransferAmount(newValue);setTransferSuccessMessageVisible(false);};//---------------INVEST INPUT, VALIDATION-------------------\nvar validateInvest=function validateInvest(){setInvestError(\"\");// setInvestSuccessMessageVisible(false);\nif(investAmount==0.0){investErrorStr=\"Amount must be higher than 0.\";setInvestError(investErrorStr);// setInvestSuccessMessageVisible(false);\nreturn false;}if(investAmount.length>=7){investErrorStr=\"Amount must be lower than that.\";setInvestError(investErrorStr);// setInvestSuccessMessageVisible(false);\nreturn false;}if(transferAmount>balance){transferErrorStr=\"Amount higher than the account balance.\";setInvestError(investErrorStr);// setInvestSuccessMessageVisible(false);\nreturn false;}return true;};//INPUT\nvar investHandleChange=function investHandleChange(e){e.preventDefault();var newValue=e.target.value;if(!validateNr(newValue)){newValue=newValue.slice(0,-1);}setInvestAmount(newValue);// setInvestSuccessMessageVisible(false);\n};//----------------CLEAR FORMS-----------------------\nvar clearForm=function clearForm(){setFirstName(\"\");setLastName(\"\");setUserName(\"\");setEmail(\"\");setPassword(\"\");};//---------------DETECTING PAGE RELOAD AND BROWSER TAB CLOSE / PREVENTING BEFOREUNLOAD EVENT-------------------\n/*\n\t\thttps://dev.to/eons/detect-page-refresh-tab-close-and-route-change-with-react-router-v5-3pd\n\t\t*/window.onbeforeunload=function(event){var e=event||window.event;// Cancel the event\ne.preventDefault();if(e){console.log(loggedInUserName);e.returnValue='';// Legacy method for cross browser support\n}return'';// Legacy method for cross browser support\n};//---------------AUTHENTICATION-------------------\nfunction authenticateWithAPI(){return _authenticateWithAPI.apply(this,arguments);}//------------GET BALANCE FROM DATABASE------------------\nfunction _authenticateWithAPI(){_authenticateWithAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var USER,PASSWORD,API_URL,response,responseObj;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:USER=process.env.AUTH_USER;PASSWORD=process.env.AUTH_PASSWORD;console.log(\"USER\"+USER+\" \"+PASSWORD);API_URL=process.env.NEXT_PUBLIC_API_URL||\"http://localhost:1337\";_context.next=6;return fetch(\"\".concat(API_URL,\"/auth/local\"),{method:\"POST\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify({identifier:USER,password:PASSWORD})});case 6:response=_context.sent;if(!response.ok){_context.next=14;break;}_context.next=10;return response.json();case 10:responseObj=_context.sent;Cookies.set(\"token\",responseObj.jwt);_context.next=16;break;case 14:console.log(response.statusText);setError(response.statusText);case 16:case\"end\":return _context.stop();}}},_callee);}));return _authenticateWithAPI.apply(this,arguments);}function getBalance(){return _getBalance.apply(this,arguments);}function _getBalance(){_getBalance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var userToken,username,API_URL,balanceResponse,balanceResponseObj,balanceError;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:userToken=Cookies.get(\"token\");if(!userToken){authenticateWithAPI();userToken=Cookies.get(\"token\");}username=Cookies.get(\"username\");;if(!username){setError(\"Not logged in!\");}API_URL=process.env.NEXT_PUBLIC_API_URL||\"http://localhost:1337\";_context2.next=8;return fetch(\"\".concat(API_URL,\"/transactions/balance\"),{method:\"POST\",headers:userToken&&{Authorization:\"Bearer \".concat(userToken)},body:JSON.stringify({\"username\":username})});case 8:balanceResponse=_context2.sent;if(balanceResponse.ok){_context2.next=14;break;}console.log(balanceResponse.statusText);setError(balanceResponse.statusText);_context2.next=19;break;case 14:_context2.next=16;return balanceResponse.json();case 16:balanceResponseObj=_context2.sent;balanceError=balanceResponseObj.error;if(!balanceError){setBalance(balanceResponseObj.balance);}case 19:return _context2.abrupt(\"return\",balance);case 20:case\"end\":return _context2.stop();}}},_callee2);}));return _getBalance.apply(this,arguments);};//------------EXPORT CONTEXT------------------\nvar defaultContext={//state:\nfirstName:firstName,lastName:lastName,userName:userName,email:email,password:password,firstNameError:firstNameError,lastNameError:lastNameError,userNameError:userNameError,emailError:emailError,passwError:passwError,depositAmount:depositAmount,balance:balance,depositError:depositError,withdrawSuccessMessageVisible:withdrawSuccessMessageVisible,depositSuccessMessageVisible:depositSuccessMessageVisible,withdrawAmount:withdrawAmount,withdrawError:withdrawError,users:users,error:error,result:result,loggedInUserName:loggedInUserName,showLoggedInMsg:showLoggedInMsg,dateTime:dateTime,transferAmount:transferAmount,transferError:transferError,transferSuccessMessageVisible:transferSuccessMessageVisible,destinationUser:destinationUser,investAmount:investAmount,investError:investError,investSuccessMessageVisible:investSuccessMessageVisible,investResult:investResult,//functions:\nvalidate:validate,handleClick:handleClick,handleFirstNameChange:handleFirstNameChange,handleLastNameChange:handleLastNameChange,handleUserNameChange:handleUserNameChange,handleEmailChange:handleEmailChange,handlePasswordChange:handlePasswordChange,validateNr:validateNr,depositHandleChange:depositHandleChange,validateDeposit:validateDeposit,withdrawHandleChange:withdrawHandleChange,setDepositSuccessMessageVisible:setDepositSuccessMessageVisible,showSuccessMessageAccount:showSuccessMessageAccount,clearForm:clearForm,authenticateWithAPI:authenticateWithAPI,setError:setError,setResult:setResult,setLoggedInUserName:setLoggedInUserName,setShowLoggedInMsg:setShowLoggedInMsg,setDateTime:setDateTime,setBalance:setBalance,setDepositAmount:setDepositAmount,validateWithdraw:validateWithdraw,setWithdrawAmount:setWithdrawAmount,setWithdrawSuccessMessageVisible:setWithdrawSuccessMessageVisible,getBalance:getBalance,validateTransfer:validateTransfer,validateInvest:validateInvest,investHandleChange:investHandleChange,transferHandleChange:transferHandleChange,setInvestSuccessMessageVisible:setInvestSuccessMessageVisible,setInvestResult:setInvestResult,setInvestAmount:setInvestAmount,setTransferSuccessMessageVisible:setTransferSuccessMessageVisible,setTransferAmount:setTransferAmount,setDestinationUser:setDestinationUser,handleDestinationUserNameChange:handleDestinationUserNameChange};return/*#__PURE__*/_jsx(MyContext.Provider,{value:defaultContext,children:children});}export{MyContext,MyContextProvider};","map":{"version":3,"sources":["/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/src/myContext/MyContext.js"],"names":["React","createContext","useState","Cookies","MyContext","MyContextProvider","children","firstName","setFirstName","lastName","setLastName","firstNameError","setFirstNameError","lastNameError","setLastNameError","userName","setUserName","userNameError","setUserNameError","users","setUsers","destinationUser","setDestinationUser","loggedInUserName","setLoggedInUserName","showLoggedInMsg","setShowLoggedInMsg","email","setEmail","emailError","setEmailError","password","setPassword","passwError","setPasswError","balance","setBalance","depositAmount","setDepositAmount","depositError","setDepositError","depositSuccessMessageVisible","setDepositSuccessMessageVisible","withdrawAmount","setWithdrawAmount","withdrawError","setWithdrawError","withdrawSuccessMessageVisible","setWithdrawSuccessMessageVisible","transferAmount","setTransferAmount","transferError","setTransferError","transferSuccessMessageVisible","setTransferSuccessMessageVisible","investAmount","setInvestAmount","investError","setInvestError","investSuccessMessageVisible","setInvestSuccessMessageVisible","investResult","setInvestResult","error","setError","result","setResult","dateTime","setDateTime","firstNameErrorStr","lastNameErrorStr","userNameErrorStr","emailErrorStr","passwordErrorStr","depositErrorStr","withdrawErrorStr","transferErrorStr","investErrorStr","validate","length","validateUserName","validateFirstName","validateLastName","validateEmail","validatePassword","newFirstName","match","newLastName","newUserName","newEmail","emailFormat","isValidFormat","str","newPassword","handleClick","e","newUser","concat","console","log","handleFirstNameChange","currentTarget","value","handleLastNameChange","handleUserNameChange","handleEmailChange","handlePasswordChange","handleDestinationUserNameChange","showSuccessMessageAccount","validateNr","newValue","depositHandleChange","preventDefault","target","slice","validateDeposit","withdrawHandleChange","validateWithdraw","validateTransfer","transferHandleChange","validateInvest","investHandleChange","clearForm","window","onbeforeunload","event","returnValue","authenticateWithAPI","USER","process","env","AUTH_USER","PASSWORD","AUTH_PASSWORD","API_URL","NEXT_PUBLIC_API_URL","fetch","method","headers","body","JSON","stringify","identifier","response","ok","json","responseObj","set","jwt","statusText","getBalance","userToken","get","username","Authorization","balanceResponse","balanceResponseObj","balanceError","defaultContext"],"mappings":"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","sourcesContent":["import React, {createContext, useState} from \"react\";\nimport Cookies from \"js-cookie\";\n\nconst MyContext = createContext();\n\n\nfunction MyContextProvider({children}) {\n\n\tconst [firstName, setFirstName] = useState(\"\");\n\tconst [lastName, setLastName] = useState(\"\");\n\tconst [firstNameError, setFirstNameError] = useState(\"\");\n\tconst [lastNameError, setLastNameError] = useState(\"\");\n\n\tconst [userName, setUserName] = useState(\"\");\n\tconst [userNameError, setUserNameError] = useState(\"\");\n\tconst [users, setUsers] = useState([]);\n\tconst [destinationUser, setDestinationUser] = useState(\"\");\n\n\tconst [loggedInUserName, setLoggedInUserName] = useState(\"\")\n\tconst [showLoggedInMsg, setShowLoggedInMsg] = useState(false);\n\n\t\n\tconst [email, setEmail] = useState(\"\");\n\tconst [emailError, setEmailError] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\tconst [passwError, setPasswError] = useState(\"\");\n\n\n\tconst [balance, setBalance] = useState(0.0);\n\tconst [depositAmount, setDepositAmount] = useState(\"\");\n\tconst [depositError, setDepositError] = useState(\"\");\n\tconst [depositSuccessMessageVisible, setDepositSuccessMessageVisible] = useState(false); \n\n\tconst [withdrawAmount, setWithdrawAmount] = useState(\"\");\n\tconst [withdrawError, setWithdrawError] = useState(\"\");\n\tconst [withdrawSuccessMessageVisible, setWithdrawSuccessMessageVisible] = useState(false); \n\n\tconst [transferAmount, setTransferAmount] = useState(\"\");\n\tconst [transferError, setTransferError] = useState(\"\");\n\tconst [transferSuccessMessageVisible, setTransferSuccessMessageVisible] = useState(false);\n\n\tconst [investAmount, setInvestAmount] = useState(\"\");\n\tconst [investError, setInvestError] = useState(\"\");\n\tconst [investSuccessMessageVisible, setInvestSuccessMessageVisible] = useState(false);\n\tconst [investResult, setInvestResult] = useState(false);\n\n\tconst [error, setError] = useState(\"\");\n\tconst [result, setResult] = useState(\"\");\n\tconst [dateTime, setDateTime] = useState(\"\");\n\n\n\tlet firstNameErrorStr = \"\";\n\tlet lastNameErrorStr = \"\";\n\tlet userNameErrorStr = \"\";\n\tlet emailErrorStr = \"\";\n\tlet passwordErrorStr = \"\";\n\tlet depositErrorStr = \"\";\n\tlet withdrawErrorStr = \"\";\n\tlet transferErrorStr = \"\";\n\tlet investErrorStr = \"\";\n\n\n\t//INPUT VALIDATION WITH ERROR MESSAGES: NO INPUT + ADDITIONAL \n\tconst validate = () => {\n\t\tsetUserNameError(\"\");\n\t\tsetFirstNameError(\"\");\n\t\tsetLastNameError(\"\");\n\t\tsetEmailError(\"\");\n\t\tsetPasswError(\"\");\n\n\t\t//username\n\t\tif (!userName) {\n\t\t\tuserNameErrorStr = \"Oops! Your username can't be blank.\";\n\t\t\t//additional: length \n\t\t} else  if (userName.length == 1) {\n\t\t\tuserNameErrorStr = \"Username must be longer than that.\";\n\t\t} else if (userName.length > 10) {\n\t\t\tuserNameErrorStr = \"Username must not exceed 10 characters.\";\n\t\t}\n\n\t\t//firstName\n\t\tif (!firstName) {\n\t\t\tfirstNameErrorStr = \"Oops! Your first name can't be blank.\";\n\t\t\t//additional: name length \n\t\t} else  if (firstName.length == 1) {\n\t\t\t\tfirstNameErrorStr = \"First name must be longer than that.\";\n\t\t} \n\n\t\t//lastName\n\t\tif (!lastName) {\n\t\t\tlastNameErrorStr = \"Oops! Your last name can't be blank.\";\n\t\t\t//additional: name length \n\t\t} else  if (lastName.length < 2) {\n\t\t\tlastNameErrorStr = \"Last name must be longer than that.\";\n\t\t} \n\n\t\t//email\n\t\tif (!email) {\n\t\t\t\temailErrorStr = \"Oops! Your email can't be blank.\";\n\t\t\t\t//additional: email length \n\t\t} else if (email.length == 1) {\n\t\t\t\temailErrorStr = \"Email must be longer than that.\";\n\t\t}\n\n\t\t//password\n\t\tif (!password) {\n\t\t\t\tpasswordErrorStr = \"Oops! Your password can't be blank.\";\n\t\t}\n\n\t\t//if there's no error message, validate \n\t\t//userName\n\t\tif (userNameErrorStr == \"\") {\n\t\t\t// alert(\"username\")\n\t\t\tvalidateUserName(userName);\n\t\t}\n\t\t//firstName\n\t\tif (firstNameErrorStr == \"\") {\n\t\t\t\tvalidateFirstName(firstName);\n\t\t}\n\n\t\t//lastName\n\t\tif (lastNameErrorStr == \"\") {\n\t\t\tvalidateLastName(lastName);\n\t\t}\n\n\t\t//email\n\t\tif (emailErrorStr == \"\") {\n\t\t\tvalidateEmail(email);\n\t\t}\n\t\t\n\t\t//password\n\t\tif (passwordErrorStr == \"\") {\n\t\t\t\tvalidatePassword(password);\n\t\t}\n\n\t\tsetUserNameError(userNameErrorStr);\n\t\tsetFirstNameError(firstNameErrorStr);\n\t\tsetLastNameError(lastNameErrorStr);\n\t\tsetEmailError(emailErrorStr);\n\t\tsetPasswError(passwordErrorStr);\n\t\treturn userNameErrorStr === \"\" && firstNameErrorStr === \"\" && lastNameErrorStr === \"\" && emailErrorStr === \"\" && passwordErrorStr === \"\"; //returns true and validate() is executed\n\t}; \n\n\t//----------------NAME AND USERNAME VALIDATION-----------------------\n\n\tconst validateFirstName = newFirstName => {\n\tsetFirstNameError(\"\");\n\t//additonal: limiting input to the letters of the English alphabet, including capital letters\n\t\tif(!newFirstName.match(/^[a-zA-Z][a-zA-Z\\s]*$/)) {\n\t\t//this ok?\n\t\t\tfirstNameErrorStr = \"Enter letters only\";\n\t\t\tsetFirstNameError(firstNameErrorStr);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tconst validateLastName = newLastName => {\n\t\tsetLastNameError(\"\");\n\t\t//additonal: limiting input to a mix of letters and numbers\n\t\tif(!newLastName.match( /^[a-zA-Z][a-zA-Z\\s]*$/)) {\n\t\t\tlastNameErrorStr = \"Enter letters only\";\n\t\t\tsetLastNameError(lastNameErrorStr);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\tconst validateUserName = newUserName => {\n\t\tsetUserNameError(\"\");\n\t\t//additonal: limiting input to only Alphabets, Numbers and Underscore and between 3 to 10 characters\n\t\tif(!newUserName.match(/^[a-zA-Z0-9_]{4,10}$/)) {\n\t\t\tuserNameErrorStr = \"Only letters, numbers and underscore, and between 3-10 characters in username.\";\n\t\t\tsetUserNameError(userNameErrorStr);\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\n\n\n\t//----------------EMAIL VALIDATION-----------------------\n\t\t//additional: email formatting\n\t\tconst validateEmail = newEmail => {\n\t\t\tlet emailFormat = /^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,4}$/; \n\t\t\tlet isValidFormat = str => {\n\t\t\t\treturn str.match(emailFormat);\n\t\t\t}\n\n\t\t\tif (!isValidFormat(newEmail)) {\n\t\t\t\temailErrorStr = \"Oops! Bad email format.\";\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t//----------------PASSWORD VALIDATION-----------------------\n\n\t\tconst validatePassword = newPassword => {\n\t\t\tif (newPassword.length == 1 || newPassword.length < 8) {\n\t\t\t\tpasswordErrorStr = \"Password must be longer than that.\";\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\n\t\t//----------------CREATE ACCOUNT FORM ONCHANGE-----------------------\n\n\n\t\t//this is not used anywhere----------\n\t\tconst handleClick = e => {\n\t\t\tif (validate()) { \n\t\t\t\t//adding all new users, for \"All Data\"\n\t\t\t\tlet newUser = {\n\t\t\t\t\t\t\"userName\": userName,\n\t\t\t\t\t\t\"firstName\": firstName,\n\t\t\t\t\t\t\"lastName\": lastName,\n\t\t\t\t\t\t\"email\": email,\n\t\t\t\t\t\t\"password\": password\n\t\t\t\t};\n\t\t\t\tsetUsers(users => users.concat(newUser));\n\t\t\t\tconsole.log(`these are all of the users: ${users}`)\n\t\t\t} else {\n\t\t\treturn;\n\t\t\t}\n\t\t};\n\t\t//---------------------------------\n\n\n\n// form input onchange + setting state\n\tconst handleFirstNameChange = e => {\n\t\tlet newFirstName = e.currentTarget.value;\n\t\tif (!newFirstName || validateFirstName(newFirstName)) {\n\t\t\tsetFirstName(newFirstName);\n\t\t}\n\t};\n\n\tconst handleLastNameChange = e => {\n\t\tlet newLastName = e.currentTarget.value;\n\t\tif (!newLastName || validateLastName(newLastName)) {\n\t\t\tsetLastName(newLastName);\n\t\t}\n\t};\n\n\tconst handleUserNameChange = e => {\n\t\tsetUserName(e.currentTarget.value);\n\t\t};\n\n\n\t\tconst handleEmailChange = e => {\n\t\t\tsetEmail(e.currentTarget.value);\n\t\t};\n\n\t\tconst handlePasswordChange = e => {        \n\t\t\tsetPassword(e.currentTarget.value);\n\t\t};\n\n\t\tconst handleDestinationUserNameChange = e => {\n\t\t\tsetDestinationUser(e.currentTarget.value);\n\t\t};\n\n\t// Create Account success message\n\tlet showSuccessMessageAccount = () => {\n\t\treturn (\n\t\t\t<div className=\"successMessage\">\n\t\t\t\t\t<h5>Awesome!</h5>\n\t\t\t\t\t<p>Your account was created.</p>\n\t\t\t</div>\n\t\t)\n\t}\n\n\t\n\n\t\t//----------------VALIDATION FOR DEPOSIT, WITHDRAW, TRANSFER, INVEST-----------------------\n\n\t\tconst validateNr = (newValue) => {\n\t\t\t//clear error when there's new input\n\t\t\tsetDepositError(\"\");\n\t\t\tsetWithdrawError(\"\");\n\t\t\tsetTransferError(\"\");\n\t\t\tsetInvestError(\"\");\n\t\t\tsetError(\"\");\n\t\t\tif(!newValue.match(/^([(0-9)]+\\.)*([(0-9)]+)*$/)) { //this regex matches numbers from 0 to 9 and + decimal numbers\n\t\t\t\tdepositErrorStr = \"Enter numbers only.\";\n\t\t\t\twithdrawErrorStr = \"Enter numbers only.\";\n\t\t\t\ttransferErrorStr = \"Enter numbers only.\";\n\t\t\t\tinvestErrorStr = \"Enter numbers only.\";\n\t\t\t\tsetDepositError(depositErrorStr);\n\t\t\t\tsetWithdrawError(withdrawErrorStr);\n\t\t\t\tsetTransferError(transferErrorStr);\n\t\t\t\tsetInvestError(investErrorStr);\n\t\t\t\treturn false; //didn't validate\n\t\t\t} \n\t\t\treturn true; //did validate\n\t\t};\n\n\t\t//----------------DEPOSIT INPUT-----------------------\n\t\tconst depositHandleChange = e => {\n\t\t\te.preventDefault();\n\t\t\tvar newValue = e.target.value;\n\t\t\tif (!validateNr(newValue)) { \n\t\t\t \tnewValue = newValue.slice(0, -1); //when we delete the numbers, it cuts off the last element if that's not a number\n\t\t\t}\n\t\t\tsetDepositAmount(newValue);\n\t\t\tsetDepositSuccessMessageVisible(false);\n\t\t};\n\n\t\t//----------------DEPOSIT VALIDATION-----------------------\n\t\tconst validateDeposit = () => {\n\t\t\tsetDepositError(\"\");\n\t\t\tsetDepositSuccessMessageVisible(false);\n\n\t\t\tif (depositAmount == 0.0) {\n\t\t\t\tdepositErrorStr = \"Amount must be higher than 0.\";\n\t\t\t\tsetDepositError(depositErrorStr);\n\t\t\t\tsetDepositSuccessMessageVisible(false);\n\t\t\t\treturn false;\n\t\t\t} \n\n\t\t\tif (depositAmount.length >= 7) {\n\t\t\t\tdepositErrorStr = \"Amount must be lower than that.\";\n\t\t\t\tsetDepositError(depositErrorStr);\n\t\t\t\tsetDepositSuccessMessageVisible(false);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\n\t\t//----------------WITHDRAW INPUT-----------------------\n\t\tconst withdrawHandleChange = e => {\n\t\t\te.preventDefault();\n\t\t\tvar newValue = e.target.value;\n\t\t\tif (!validateNr(newValue)) { \n\t\t\t\tnewValue = newValue.slice(0, -1); //when we delete the numbers, it cuts off the last element if that's not a number\n\t\t\t} \n\t\t\tsetWithdrawAmount(newValue)\n\t\t\tsetWithdrawSuccessMessageVisible(false);   \n\t\t};\n\n\t\t//---------------WITHDRAW VALIDATION-------------------\n\t\tconst validateWithdraw = () => {\n\t\t\t\tsetWithdrawError(\"\");\n\t\t\t\tsetWithdrawSuccessMessageVisible(false);\n\n\t\t\t\tif (withdrawAmount == 0.0) {\n\t\t\t\t\twithdrawErrorStr = \"Amount must be higher than 0.\";\n\t\t\t\t\tsetWithdrawError(withdrawErrorStr);\n\t\t\t\t\tsetWithdrawSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (withdrawAmount.length >= 7) {\n\t\t\t\t\twithdrawErrorStr = \"Amount must be lower than that.\";\n\t\t\t\t\tsetWithdrawError(withdrawErrorStr);\n\t\t\t\t\tsetWithdrawSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tif (withdrawAmount > balance) {\n\t\t\t\t\twithdrawErrorStr = \"Amount higher than the account balance.\";\n\t\t\t\t\tsetWithdrawError(withdrawErrorStr);\n\t\t\t\t\tsetWithdrawSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t} \n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\t\n\t\t\t//---------------TRANSFER INPUT, VALIDATION-------------------\n\t\t\tconst validateTransfer = () => {\n\t\t\t\tsetTransferError(\"\");\n\t\t\t\tsetTransferSuccessMessageVisible(false);\n\n\t\t\t\tif (transferAmount == 0.0) {\n\t\t\t\t\ttransferErrorStr = \"Amount must be higher than 0.\";\n\t\t\t\t\tsetTransferError(transferErrorStr);\n\t\t\t\t\tsetTransferSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tif (transferAmount.length >= 7) {\n\t\t\t\t\ttransferErrorStr = \"Amount must be lower than that.\";\n\t\t\t\t\tsetTransferError(transferErrorStr);\n\t\t\t\t\tsetTransferSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tif (transferAmount > balance) {\n\t\t\t\t\ttransferErrorStr = \"Amount higher than the account balance.\";\n\t\t\t\t\tsetTransferError(transferErrorStr);\n\t\t\t\t\tsetTransferSuccessMessageVisible(false);\n\t\t\t\t\treturn false;\n\t\t\t\t} \n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\t//INPUT\n\t\t\tconst transferHandleChange = e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar newValue = e.target.value;\n\t\t\t\tif (!validateNr(newValue)) { \n\t\t\t\t\t newValue = newValue.slice(0, -1); //when we delete the numbers, it cuts off the last element if that's not a number\n\t\t\t\t}\n\t\t\t\tsetTransferAmount(newValue);\n\t\t\t\tsetTransferSuccessMessageVisible(false);\n\t\t\t};\n\n\n\t\t\t //---------------INVEST INPUT, VALIDATION-------------------\n\n\t\t\t const validateInvest = () => {\n\t\t\t\t\tsetInvestError(\"\");\n\t\t\t\t\t// setInvestSuccessMessageVisible(false);\n\n\t\t\t\t\tif (investAmount == 0.0) {\n\t\t\t\t\t\tinvestErrorStr = \"Amount must be higher than 0.\";\n\t\t\t\t\t\tsetInvestError(investErrorStr);\n\t\t\t\t\t\t// setInvestSuccessMessageVisible(false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (investAmount.length >= 7) {\n\t\t\t\t\t\tinvestErrorStr = \"Amount must be lower than that.\";\n\t\t\t\t\t\tsetInvestError(investErrorStr);\n\t\t\t\t\t\t// setInvestSuccessMessageVisible(false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tif (transferAmount > balance) {\n\t\t\t\t\t\ttransferErrorStr = \"Amount higher than the account balance.\";\n\t\t\t\t\t\tsetInvestError(investErrorStr);\n\t\t\t\t\t\t// setInvestSuccessMessageVisible(false);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} \n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\t//INPUT\n\t\t\tconst investHandleChange = e => {\n\t\t\t\te.preventDefault();\n\t\t\t\tvar newValue = e.target.value;\n\t\t\t\tif (!validateNr(newValue)) { \n\t\t\t\t\t newValue = newValue.slice(0, -1); \n\t\t\t\t}\n\t\t\t\tsetInvestAmount(newValue);\n\t\t\t\t// setInvestSuccessMessageVisible(false);\n\t\t\t};\n\n\n\t\t\t//----------------CLEAR FORMS-----------------------\n\n\t\tconst clearForm = () => {\n\t\t\tsetFirstName(\"\");\n\t\t\tsetLastName(\"\");\n\t\t\tsetUserName(\"\");\n\t\t\tsetEmail(\"\");\n\t\t\tsetPassword(\"\");\n\t\t};\n\n\n\n\n\t\t//---------------DETECTING PAGE RELOAD AND BROWSER TAB CLOSE / PREVENTING BEFOREUNLOAD EVENT-------------------\n\t\t/*\n\t\thttps://dev.to/eons/detect-page-refresh-tab-close-and-route-change-with-react-router-v5-3pd\n\t\t*/\n\n\t\twindow.onbeforeunload = (event) => {\n\t\t\tconst e = event || window.event;\n\t\t\t// Cancel the event\n\t\t\te.preventDefault();\n\t\t\tif (e) {\n\t\t\t\tconsole.log(loggedInUserName)\n\t\t\t\te.returnValue = ''; // Legacy method for cross browser support\n\t\t\t}\n\t\t\treturn ''; // Legacy method for cross browser support\n\t\t};\n\n\t\n\t\t//---------------AUTHENTICATION-------------------\n\t\tasync function authenticateWithAPI() {\n\n\t\t\tconst USER = process.env.AUTH_USER;\n\t\t\tconst PASSWORD = process.env.AUTH_PASSWORD;\n\n\t\t\tconsole.log(\"USER\" + USER + \" \" + PASSWORD)\n\n\t\t\tconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\n\t\t\tconst response = await fetch(`${API_URL}/auth/local`, {\n\t\t\tmethod: \"POST\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Accept\": \"application/json\",\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tidentifier: USER,\n\t\t\t\t\t\t\tpassword: PASSWORD\n\t\t\t\t\t})\n\t\t\t});\n\n\t\t\tif (response.ok) {\n\t\t\t\t\tconst responseObj = await response.json();\n\t\t\t\t\tCookies.set(\"token\", responseObj.jwt);\n\t\t\t} else {\n\t\t\t\t\tconsole.log(response.statusText)\n\t\t\t\t\tsetError(response.statusText);\n\t\t\t}\n\t\t}\n\n\n\n\t\t//------------GET BALANCE FROM DATABASE------------------\n\t\tasync function getBalance() {\n\t\t\tlet userToken = Cookies.get(\"token\");\n\t\t\tif (!userToken) {\n\t\t\t\tauthenticateWithAPI();\n\t\t\t\tuserToken = Cookies.get(\"token\");\n\t\t\t}\n\t\n\t\t\tlet username = Cookies.get(\"username\");;\n\t\t\tif (!username) {\n\t\t\t\tsetError(\"Not logged in!\");\n\t\t\t}\n\n\t\t\tconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:1337\";\n\t\t\tconst balanceResponse = await fetch(`${API_URL}/transactions/balance`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: userToken && { Authorization: `Bearer ${userToken}` },\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\"username\" : username\n\t\t\t\t})\n\t\t\t});\n\t\n\t\t\tif (!balanceResponse.ok) {\n\t\t\t\tconsole.log(balanceResponse.statusText)\n\t\t\t\tsetError(balanceResponse.statusText);\n\t\t\t} else {\n\t\t\t\tconst balanceResponseObj = await balanceResponse.json();\n\t\t\t\tconst balanceError = balanceResponseObj.error;\n\t\t\t\tif (!balanceError) {\n\t\t\t\t\tsetBalance(balanceResponseObj.balance);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn balance;\n\t\t};\n\n\n\n\n\t\t//------------EXPORT CONTEXT------------------\n\t\tconst defaultContext = {\n\t\t\t//state:\n\t\t\tfirstName,\n\t\t\tlastName,\n\t\t\tuserName,\n\t\t\temail,\n\t\t\tpassword,\n\t\t\tfirstNameError,\n\t\t\tlastNameError,\n\t\t\tuserNameError,\n\t\t\temailError,\n\t\t\tpasswError,\n\t\t\tdepositAmount,\n\t\t\tbalance,\n\t\t\tdepositError,\n\t\t\twithdrawSuccessMessageVisible,\n\t\t\tdepositSuccessMessageVisible,\n\t\t\twithdrawAmount,\n\t\t\twithdrawError,\n\t\t\tusers,\n\t\t\terror,\n\t\t\tresult,\n\t\t\tloggedInUserName,\n\t\t\tshowLoggedInMsg,\n\t\t\tdateTime,\n\t\t\ttransferAmount,\n\t\t\ttransferError,\n\t\t\ttransferSuccessMessageVisible,\n\t\t\tdestinationUser,\n\t\t\tinvestAmount,\n\t\t\tinvestError,\n\t\t\tinvestSuccessMessageVisible,\n\t\t\tinvestResult,\n\t\t\t//functions:\n\t\t\tvalidate,\n\t\t\thandleClick,\n\t\t\thandleFirstNameChange,\n\t\t\thandleLastNameChange,\n\t\t\thandleUserNameChange,\n\t\t\thandleEmailChange,\n\t\t\thandlePasswordChange,\n\t\t\tvalidateNr,\n\t\t\tdepositHandleChange,\n\t\t\tvalidateDeposit,\n\t\t\twithdrawHandleChange,\n\t\t\tsetDepositSuccessMessageVisible,\n\t\t\tshowSuccessMessageAccount,\n\t\t\tclearForm,\n\t\t\tauthenticateWithAPI,\n\t\t\tsetError,\t\t\t\n\t\t\tsetResult,\n\t\t\tsetLoggedInUserName,\n\t\t\tsetShowLoggedInMsg,\n\t\t\tsetDateTime,\n\t\t\tsetBalance,\n\t\t\tsetDepositAmount,\n\t\t\tvalidateWithdraw,\n\t\t\tsetWithdrawAmount,\n\t\t\tsetWithdrawSuccessMessageVisible,\n\t\t\tgetBalance,\n\t\t\tvalidateTransfer,\n\t\t\tvalidateInvest,\n\t\t\tinvestHandleChange,\n\t\t\ttransferHandleChange,\n\t\t\tsetInvestSuccessMessageVisible,\n\t\t\tsetInvestResult,\n\t\t\tsetInvestAmount,\n\t\t\tsetTransferSuccessMessageVisible,\n\t\t\tsetTransferAmount,\n\t\t\tsetDestinationUser,\n\t\t\thandleDestinationUserNameChange,\n\t\t};\n\n\t\treturn (\n\t\t\t<MyContext.Provider value={defaultContext}>\n\t\t\t\t{children}\n\t\t\t</MyContext.Provider>\n\t\t)\n}\n\nexport {MyContext, MyContextProvider};\n"]},"metadata":{},"sourceType":"module"}