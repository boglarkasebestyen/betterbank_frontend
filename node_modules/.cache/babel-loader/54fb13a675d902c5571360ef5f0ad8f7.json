{"ast":null,"code":"import React,{useContext}from\"react\";import{useLocation}from\"react-router-dom\";import{useHistory}from\"react-router-dom\";import{MyContext}from\"../myContext/MyContext\";import ReactTooltip from\"react-tooltip\";import Cookies from\"js-cookie\";import Login from\"../pages/Login\";import logo from\"../images/logo.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NavBar(){var _useContext=useContext(MyContext),loggedInUserName=_useContext.loggedInUserName,setLoggedInUserName=_useContext.setLoggedInUserName;/* Highlighting: The navigation bar highlights the element of the current page the user is on. */ /* Highlight the current page the user is on / active page, even on refresh */var location=useLocation();var history=useHistory();var redirectToLogin=function redirectToLogin(){history.replace('/#');};var logOut=function logOut(){Cookies.set(\"username\",\"\");setLoggedInUserName(\"\");redirectToLogin();};// an array of objects; pages[classIndex] is enough to access it\nvar loggedOutPages=[{id:\"login\",text:\"Login\",tooltipText:\"Log in to your account\",href:\"#/\"}];// {id:\"createAccount\", text: \"Open Acount\", tooltipText: \"Open your BetterBank® account\", href:\"#/createAccount\"}];\n//preventing user logout when refreshing the page\nvar isLoggedIn=Cookies.get(\"username\")&&Cookies.get(\"username\").length>0||loggedInUserName.length>0;var pages=isLoggedIn?[{id:\"deposit\",text:\"Deposit\",tooltipText:\"Deposit cash & checks on any device\",href:\"#/deposit\"},{id:\"withdraw\",text:\"Withdraw\",tooltipText:\"Withdraw cash & checks on any device\",href:\"#/withdraw\"},{id:\"transfer\",text:\"Transfer\",tooltipText:\"Transfer cash & checks on any device\",href:\"#/transfer\"},{id:\"invest\",text:\"Invest\",tooltipText:\"Invest cash & checks on any device\",href:\"#/invest\"},{id:\"allData\",text:\"All Data\",tooltipText:\"All your transactions and more\",href:\"#/allData\"},{id:\"logout\",text:\"Log Out\",tooltipText:\"Log out from your account\",href:\"\",onclick:logOut}]:loggedOutPages;var getClass=function getClass(classIndex){var currentPage=location.pathname;//accessing pathname from the location object\nvar renderedPage=pages[classIndex].href.split(\"#\").pop();//from which we'll get \"withdraw\", \"deposit\", etc.\nreturn renderedPage===currentPage?\"current\":\"\";};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"blurr\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-light\",children:[/*#__PURE__*/_jsx(\"a\",{href:{Login:Login},className:\"navbar-brand mt-1 ml-5\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"banklogo\",alt:\"BetterBank\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarNav\",\"aria-controls\":\"navbarNav\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse nav-container\",id:\"navbarNav\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav navitem-container ml-auto\",children:pages.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[function(){if(item.href.length>0){return/*#__PURE__*/_jsx(\"a\",{\"data-tip\":true,\"data-for\":item.id,className:\"nav-link pl-2 pr-2 mt-2 ml-1 \".concat(getClass(index)),href:item.href,children:item.text});}else{return/*#__PURE__*/_jsx(\"a\",{\"data-tip\":true,\"data-for\":item.id,className:\"nav-link pl-2 pr-2 mt-2 ml-1 \".concat(getClass(index)),onClick:item.onclick,children:item.text});}}(),/*#__PURE__*/_jsx(ReactTooltip,{id:item.id,effect:\"solid\",children:/*#__PURE__*/_jsx(\"span\",{children:item.tooltipText})})]},index);})})})]})]})})});}export default NavBar;","map":{"version":3,"sources":["/Users/sebestyenboglarka/Desktop/_uWu/MIT_MERN_2021-'22/3rd semester/badbank_backend_test/betterbank_frontend/src/components/Navbar.js"],"names":["React","useContext","useLocation","useHistory","MyContext","ReactTooltip","Cookies","Login","logo","NavBar","loggedInUserName","setLoggedInUserName","location","history","redirectToLogin","replace","logOut","set","loggedOutPages","id","text","tooltipText","href","isLoggedIn","get","length","pages","onclick","getClass","classIndex","currentPage","pathname","renderedPage","split","pop","map","item","index"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,OAAQC,SAAR,KAAwB,wBAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,C,6IAEA,QAASC,CAAAA,MAAT,EAAkB,CAEhB,gBAAgDR,UAAU,CAACG,SAAD,CAA1D,CAAOM,gBAAP,aAAOA,gBAAP,CAAyBC,mBAAzB,aAAyBA,mBAAzB,CAEA,iGAJgB,CAKhB,8EACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,OAAO,CAAGV,UAAU,EAA1B,CAEA,GAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BD,OAAO,CAACE,OAAR,CAAgB,IAAhB,EACD,CAFD,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBV,OAAO,CAACW,GAAR,CAAY,UAAZ,CAAwB,EAAxB,EACAN,mBAAmB,CAAC,EAAD,CAAnB,CACAG,eAAe,GAChB,CAJD,CAMA;AACA,GAAMI,CAAAA,cAAc,CAAG,CAAC,CAACC,EAAE,CAAC,OAAJ,CAAaC,IAAI,CAAE,OAAnB,CAA4BC,WAAW,CAAE,wBAAzC,CAAmEC,IAAI,CAAC,IAAxE,CAAD,CAAvB,CACwB;AAExB;AACA,GAAMC,CAAAA,UAAU,CAAIjB,OAAO,CAACkB,GAAR,CAAY,UAAZ,GAA4BlB,OAAO,CAACkB,GAAR,CAAY,UAAZ,EAAwBC,MAAxB,CAAiC,CAA9D,EAAqEf,gBAAgB,CAACe,MAAjB,CAA0B,CAAlH,CAEA,GAAMC,CAAAA,KAAK,CAAGH,UAAU,CAAG,CACb,CAACJ,EAAE,CAAC,SAAJ,CAAcC,IAAI,CAAE,SAApB,CAA+BC,WAAW,CAAE,qCAA5C,CAAmFC,IAAI,CAAC,WAAxF,CADa,CAEb,CAACH,EAAE,CAAC,UAAJ,CAAeC,IAAI,CAAE,UAArB,CAAiCC,WAAW,CAAE,sCAA9C,CAAsFC,IAAI,CAAC,YAA3F,CAFa,CAGb,CAACH,EAAE,CAAC,UAAJ,CAAeC,IAAI,CAAE,UAArB,CAAiCC,WAAW,CAAE,sCAA9C,CAAsFC,IAAI,CAAC,YAA3F,CAHa,CAIb,CAACH,EAAE,CAAC,QAAJ,CAAaC,IAAI,CAAE,QAAnB,CAA6BC,WAAW,CAAE,oCAA1C,CAAgFC,IAAI,CAAC,UAArF,CAJa,CAKb,CAACH,EAAE,CAAC,SAAJ,CAAcC,IAAI,CAAE,UAApB,CAAgCC,WAAW,CAAE,gCAA7C,CAA+EC,IAAI,CAAC,WAApF,CALa,CAMb,CAACH,EAAE,CAAC,QAAJ,CAAcC,IAAI,CAAE,SAApB,CAA+BC,WAAW,CAAE,2BAA5C,CAAyEC,IAAI,CAAC,EAA9E,CAAkFK,OAAO,CAACX,MAA1F,CANa,CAAH,CAOpBE,cAPJ,CAUA,GAAMU,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,UAAD,CAAgB,CAC/B,GAAMC,CAAAA,WAAW,CAAGlB,QAAQ,CAACmB,QAA7B,CAAuC;AACvC,GAAMC,CAAAA,YAAY,CAAGN,KAAK,CAACG,UAAD,CAAL,CAAkBP,IAAlB,CAAuBW,KAAvB,CAA6B,GAA7B,EAAkCC,GAAlC,EAArB,CAA8D;AAC9D,MAAOF,CAAAA,YAAY,GAAKF,WAAjB,CAA+B,SAA/B,CAA2C,EAAlD,CACD,CAJD,CAMA,mBACE,sCACE,YAAK,SAAS,CAAC,OAAf,uBACE,aAAK,SAAS,CAAC,sCAAf,wBACE,UAAG,IAAI,CAAE,CAACvB,KAAK,CAALA,KAAD,CAAT,CAAkB,SAAS,CAAC,wBAA5B,uBACE,YAAK,GAAG,CAAEC,IAAV,CAAgB,SAAS,CAAC,UAA1B,CAAqC,GAAG,CAAC,YAAzC,EADF,EADF,cAIE,aAAK,SAAS,CAAC,WAAf,wBAEE,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,IAAI,CAAC,QAAxC,CAAiD,cAAY,UAA7D,CAAwE,cAAY,YAApF,CAAiG,gBAAc,WAA/G,CAA2H,gBAAc,OAAzI,CAAiJ,aAAW,mBAA5J,uBAEE,aAAM,SAAS,CAAC,qBAAhB,EAFF,EAFF,cAQE,YAAK,SAAS,CAAC,wCAAf,CAAwD,EAAE,CAAC,WAA3D,uBAGE,WAAI,SAAS,CAAC,sCAAd,UACGkB,KAAK,CAACS,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,qBACT,YAAgB,SAAS,CAAC,UAA1B,WACI,UAAM,CACN,GAAID,IAAI,CAACd,IAAL,CAAUG,MAAV,CAAmB,CAAvB,CAA0B,CACxB,mBAAO,UAAG,eAAH,CAAY,WAAUW,IAAI,CAACjB,EAA3B,CAA+B,SAAS,wCAAkCS,QAAQ,CAACS,KAAD,CAA1C,CAAxC,CAA6F,IAAI,CAAED,IAAI,CAACd,IAAxG,UAA+Gc,IAAI,CAAChB,IAApH,EAAP,CACD,CAFD,IAEO,CACL,mBAAO,UAAG,eAAH,CAAY,WAAUgB,IAAI,CAACjB,EAA3B,CAA+B,SAAS,wCAAkCS,QAAQ,CAACS,KAAD,CAA1C,CAAxC,CAA6F,OAAO,CAAED,IAAI,CAACT,OAA3G,UAAqHS,IAAI,CAAChB,IAA1H,EAAP,CACD,CACF,CANA,EADH,cAQE,KAAC,YAAD,EAAc,EAAE,CAAEgB,IAAI,CAACjB,EAAvB,CAA2B,MAAM,CAAC,OAAlC,uBACE,sBAAOiB,IAAI,CAACf,WAAZ,EADF,EARF,GAASgB,KAAT,CADS,EAAV,CADH,EAHF,EARF,GAJF,GADF,EADF,EADF,CA0CD,CAED,cAAe5B,CAAAA,MAAf","sourcesContent":["import React, { useContext } from \"react\";\r\nimport {useLocation} from \"react-router-dom\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {MyContext} from \"../myContext/MyContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport Cookies from \"js-cookie\";\r\nimport Login from \"../pages/Login\";\r\nimport logo from \"../images/logo.png\";\r\n\r\nfunction NavBar() {\r\n\r\n  const {loggedInUserName, setLoggedInUserName} = useContext(MyContext);\r\n\r\n  /* Highlighting: The navigation bar highlights the element of the current page the user is on. */\r\n  /* Highlight the current page the user is on / active page, even on refresh */\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  const redirectToLogin = () => {\r\n    history.replace('/#');\r\n  }\r\n\r\n  const logOut = () => {\r\n    Cookies.set(\"username\", \"\");\r\n    setLoggedInUserName(\"\");\r\n    redirectToLogin();\r\n  }\r\n  \r\n  // an array of objects; pages[classIndex] is enough to access it\r\n  const loggedOutPages = [{id:\"login\", text: \"Login\", tooltipText: \"Log in to your account\", href:\"#/\"}];\r\n                          // {id:\"createAccount\", text: \"Open Acount\", tooltipText: \"Open your BetterBank® account\", href:\"#/createAccount\"}];\r\n  \r\n  //preventing user logout when refreshing the page\r\n  const isLoggedIn = (Cookies.get(\"username\") && (Cookies.get(\"username\").length > 0)) || loggedInUserName.length > 0;\r\n  \r\n  const pages = isLoggedIn ? [               \r\n                {id:\"deposit\",text: \"Deposit\", tooltipText: \"Deposit cash & checks on any device\", href:\"#/deposit\"},\r\n                {id:\"withdraw\",text: \"Withdraw\", tooltipText: \"Withdraw cash & checks on any device\", href:\"#/withdraw\"},\r\n                {id:\"transfer\",text: \"Transfer\", tooltipText: \"Transfer cash & checks on any device\", href:\"#/transfer\"},\r\n                {id:\"invest\",text: \"Invest\", tooltipText: \"Invest cash & checks on any device\", href:\"#/invest\"},\r\n                {id:\"allData\",text: \"All Data\", tooltipText: \"All your transactions and more\", href:\"#/allData\"},\r\n                {id:\"logout\", text: \"Log Out\", tooltipText: \"Log out from your account\", href:\"\", onclick:logOut}\r\n  ] : loggedOutPages;\r\n\r\n\r\n  const getClass = (classIndex) => {\r\n    const currentPage = location.pathname; //accessing pathname from the location object\r\n    const renderedPage = pages[classIndex].href.split(\"#\").pop(); //from which we'll get \"withdraw\", \"deposit\", etc.\r\n    return renderedPage === currentPage ? \"current\" : \"\";\r\n  }\r\n\r\n  return (\r\n    <>   \r\n      <div className=\"blurr\">\r\n        <nav className=\"navbar navbar-expand-lg navbar-light\">\r\n          <a href={{Login}} className=\"navbar-brand mt-1 ml-5\">\r\n            <img src={logo} className=\"banklogo\" alt=\"BetterBank\"/>\r\n          </a>\r\n          <div className=\"container\">\r\n            {/* BUTTON */}\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n              {/* hamburger icon */}\r\n              <span className=\"navbar-toggler-icon\"></span> \r\n            </button>\r\n\r\n            {/*  container containing nav items from item 1 till length of page */}\r\n            <div className=\"collapse navbar-collapse nav-container\" id=\"navbarNav\">\r\n\r\n              {/* container containing each nav item only */}\r\n              <ul className=\"navbar-nav navitem-container ml-auto\">\r\n                {pages.map((item, index) => \r\n                  <li key={index} className=\"nav-item\">\r\n                    {(() => {\r\n                      if (item.href.length > 0) {\r\n                        return <a data-tip data-for={item.id} className={`nav-link pl-2 pr-2 mt-2 ml-1 ${getClass(index)}`} href={item.href}>{item.text}</a>\r\n                      } else {\r\n                        return <a data-tip data-for={item.id} className={`nav-link pl-2 pr-2 mt-2 ml-1 ${getClass(index)}`} onClick={item.onclick}>{item.text}</a>\r\n                      }\r\n                    })()}                    \r\n                    <ReactTooltip id={item.id} effect='solid'>\r\n                      <span>{item.tooltipText}</span>\r\n                    </ReactTooltip>\r\n                  </li>\r\n                )}\r\n              </ul>\r\n              {/* end of container for nav items */}\r\n            </div>\r\n            {/* end of main container */}\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NavBar;\r\n\r\n"]},"metadata":{},"sourceType":"module"}